(<- (desig:action-grounding ?action-designator (pp-plans:pour ?resolved-action-designator))
      (spec:property ?action-designator (:type :pouring))
      (spec:property ?action-designator (:source ?source-designator))
      (spec:property ?action-designator (:target ?target-designator))
      (desig:current-designator ?source-designator ?current-source-desig)
      (desig:current-designator ?target-designator ?current-target-desig)
      (spec:property ?current-source-desig (:type ?source-type))
      (spec:property ?current-source-desig (:name ?source-name))
      (spec:property ?current-target-desig (:type ?target-type))
      (spec:property ?current-target-desig (:name ?target-name))
      (-> (spec:property ?action-designator (:arm ?arm))
          (true)
          (man-int:robot-free-hand ?_ ?arm))
      (lisp-fun man-int:get-object-transform ?current-source-desig ?source-transform)
      (lisp-fun man-int:get-object-transform ?current-target-desig ?target-transform)
      (lisp-fun man-int:calculate-object-faces ?source-transform (?source-top-face ?source-bottom-face))
      (lisp-fun man-int:calculate-object-faces ?target-transform (?target-top-face ?target-bottom-face))
      (-> (spec:property ?action-designator (:pouring-direction ?direction))
          (true)
          (member ?direction (:from-source-to-target :from-target-to-source)))
      (lisp-fun man-int:get-action-pouring-effort ?source-type ?target-type ?effort)
      (lisp-fun man-int:get-action-pouring-speed ?source-type ?target-type ?speed)
      (equal ?objects (?current-source-desig ?current-target-desig))
      (-> (equal ?arm :left)
          (and (lisp-fun man-int:get-action-trajectory :pouring ?arm ?direction ?objects
                         ?left-trajectory)
               (lisp-fun man-int:get-traj-poses-by-label ?left-trajectory :reaching
                         ?left-reach-poses)
               (lisp-fun man-int:get-traj-poses-by-label ?left-trajectory :pouring
                         ?left-pour-poses))
          (and (equal ?left-reach-poses NIL)
               (equal ?left-pour-poses NIL)))
      (-> (equal ?arm :right)
          (and (lisp-fun man-int:get-action-trajectory :pouring ?arm ?direction ?objects
                         ?right-trajectory)
               (lisp-fun man-int:get-traj-poses-by-label ?right-trajectory :reaching
                         ?right-reach-poses)
               (lisp-fun man-int:get-traj-poses-by-label ?right-trajectory :pouring
                         ?right-pour-poses))
          (and (equal ?right-reach-poses NIL)
               (equal ?right-pour-poses NIL)))
      (desig:designator :action ((:type :pouring)
                                 (:source ?current-source-desig)
                                 (:source-name ?source-name)
                                 (:target ?current-target-desig)
                                 (:target-name ?target-name)
                                 (:arm ?arm)
                                 (:effort ?effort)
                                 (:speed ?speed)
                                 (:direction ?direction)
                                 (:left-reach-poses ?left-reach-poses)
                                 (:right-reach-poses ?right-reach-poses)
                                 (:left-pour-poses ?left-pour-poses)
                                 (:right-pour-poses ?right-pour-poses)
                                 (:pour :pouring))
                        ?resolved-action-designator))