(<- (desig:action-grounding ?action-designator (pour ?resolved-action-designator))
    (spec:property ?action-designator (:type :pouring))
    (spec:property ?action-designator (:source ?source-designator))
    (spec:property ?action-designator (:destination ?destination-designator))
    (desig:current-designator ?source-designator ?current-source-desig)
    (spec:property ?current-source-desig (:type ?source-type))
    (spec:property ?current-source-desig (:name ?source-name))
    (desig:current-designator ?destination-designator ?current-destination-desig)
    (spec:property ?current-destination-desig (:type ?destination-type))
    (spec:property ?current-destination-desig (:name ?destination-name))
    (-> (spec:property ?action-designator (:arm ?arm))
        (true)
        (man-int:robot-free-hand ?_ ?arm))
    (lisp-fun man-int:get-object-old-transform ?current-source-desig ?source-transform)
    (lisp-fun man-int:get-object-old-transform ?current-destination-desig ?destination-transform)
    (lisp-fun man-int:calculate-object-faces ?source-transform (?source-top-face ?source-bottom-face))
    (lisp-fun man-int:calculate-object-faces ?destination-transform (?destination-top-face ?destination-bottom-face))
    (-> (spec:property ?action-designator (:grasp ?grasp))
        (true)
        (and (lisp-fun man-int:get-action-grasps ?source-type ?arm ?source-transform ?grasps)
             (member ?grasp ?grasps)))
    (-> (spec:property ?action-designator (:pouring-pose ?pouring-pose))
        (true)
        (format "Please infer the pouring pose, or use the query system to infer it here"))
    (lisp-fun man-int:get-action-gripping-effort ?source-type ?effort)
    (lisp-fun man-int:get-action-gripper-opening ?source-type ?gripper-opening)
    (equal ?objects (?current-source-desig ?current-destination-desig))
    (-> (equal ?arm :left)
        (and (lisp-fun man-int:get-action-trajectory :pouring ?arm ?grasp T ?objects
                       ?left-pouring-pose)
             (lisp-fun man-int:get-traj-poses-by-label ?left-pouring-pose :pouring-up
                       ?left-pouring-up-poses)
             (lisp-fun man-int:get-traj-poses-by-label ?left-pouring-pose :pouring-down
                       ?left-pouring-down-poses))
        (and (equal ?left-pouring-up-poses NIL)
             (equal ?left-pouring-down-poses NIL)))
    (-> (equal ?arm :right)
        (and (lisp-fun man-int:get-action-trajectory :pouring ?arm ?grasp T ?objects
                       ?right-pouring-pose)
             (lisp-fun man-int:get-traj-poses-by-label ?right-pouring-pose :pouring-up
                       ?right-pouring-up-poses)
             (lisp-fun man-int:get-traj-poses-by-label ?right-pouring-pose :pouring-down
                       ?right-pouring-down-poses))
        (and (equal ?right-pouring-up-poses NIL)
             (equal ?right-pouring-down-poses NIL)))
    (-> (desig:desig-prop ?action-designator (:collision-mode ?collision-mode))
        (true)
        (equal ?collision-mode nil))
    (desig:designator :action ((:type :pouring)
                               (:source ?current-source-desig)
                               (:source-name ?source-name)
                               (:destination ?current-destination-desig)
                               (:destination-name ?destination-name)
                               (:arm ?arm)
                               (:gripper-opening ?gripper-opening)
                               (:effort ?effort)
                               (:grasp ?grasp)
                               (:left-pouring-up-poses ?left-pouring-up-poses)
                               (:right-pouring-up-poses ?right-pouring-up-poses)
                               (:left-pouring-down-poses ?left-pouring-down-poses)
                               (:right-pouring-down-poses ?right-pouring-down-poses)
                               (:collision-mode ?collision-mode))
                      ?resolved-action-designator))