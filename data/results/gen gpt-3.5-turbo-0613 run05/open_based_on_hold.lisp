(desig:action-grounding ?action-designator (pp-plans:open-container ?resolved-action-designator))
(spec:property ?action-designator (:type :opening-container))
(spec:property ?action-designator (:container ?container-designator))
(desig:current-designator ?container-designator ?current-container-desig)
(spec:property ?current-container-desig (:type ?container-type))
(spec:property ?current-container-desig (:name ?container-name))
(-> (spec:property ?action-designator (:arm ?arm))
    (true)
    (man-int:robot-free-hand ?_ ?arm))
(lisp-fun man-int:get-container-transform ?current-container-desig ?container-transform)
(lisp-fun man-int:calculate-container-faces ?container-transform (?facing-robot-face ?top-face))
(-> (spec:property ?action-designator (:opening ?opening))
  (true)
  (and (lisp-fun man-int:get-action-openings ?container-type ?arm ?container-transform ?openings)
       (member ?opening ?openings)))
(lisp-fun man-int:get-action-gripper-opening ?container-type ?gripper-opening)
(lisp-fun man-int:get-action-gripping-effort ?container-type ?effort)
(equal ?containers (?current-container-desig))
(-> (equal ?arm :left)
    (and (lisp-fun man-int:get-action-trajectory :opening ?arm ?opening T ?containers
                   ?left-trajectory)
         (lisp-fun man-int:get-traj-poses-by-label ?left-trajectory :reaching
                   ?left-reach-poses)
         (lisp-fun man-int:get-traj-poses-by-label ?left-trajectory :opening
                   ?left-opening-poses))
    (and (equal ?left-reach-poses NIL)
         (equal ?left-opening-poses NIL)))
(-> (equal ?arm :right)
    (and (lisp-fun man-int:get-action-trajectory :opening ?arm ?opening T ?containers
                   ?right-trajectory)
         (lisp-fun man-int:get-traj-poses-by-label ?right-trajectory :reaching
                   ?right-reach-poses)
         (lisp-fun man-int:get-traj-poses-by-label ?right-trajectory :opening
                   ?right-opening-poses))
    (and (equal ?right-reach-poses NIL)
         (equal ?right-opening-poses NIL)))
(desig:designator :action ((:type :opening)
                           (:container ?current-container-desig)
                           (:container-name ?container-name)
                           (:arm ?arm)
                           (:gripper-opening ?gripper-opening)
                           (:effort ?effort)
                           (:opening ?opening)
                           (:left-reach-poses ?left-reach-poses)
                           (:right-reach-poses ?right-reach-poses)
                           (:left-opening-poses ?left-opening-poses)
                           (:right-opening-poses ?right-opening-poses)
                           (:open-container :opening-container))
                  ?resolved-action-designator)